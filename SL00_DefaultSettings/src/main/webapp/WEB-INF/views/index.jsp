<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes">
    <meta name="format-detection" content="telephone=no">
    <title>Ìï≠Í≥µÏÇ¨ ÏõπÏÇ¨Ïù¥Ìä∏</title>
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/index.css?v=<%=System.currentTimeMillis()%>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* Í∏∞Ï°¥ Ïù∏ÎùºÏù∏ Ïä§ÌÉÄÏùº Ïú†ÏßÄ */
        .lookup-result-wrapper { padding: 30px; }
        .lookup-result-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .lookup-status-container { display: flex; align-items: center; gap: 10px; }
        .lookup-status { font-size: 16px; font-weight: 700; color: #0064de; }
        .lookup-booking-id { font-size: 14px; color: #fff; background-color: #0064de; padding: 5px 10px; border-radius: 15px; }
        .lookup-another { font-size: 14px; color: #555; text-decoration: none; }
        .lookup-another:hover { text-decoration: underline; }
        .lookup-result-body { display: flex; justify-content: space-between; align-items: center; }
        .lookup-route-info { display: flex; align-items: center; gap: 20px; }
        .lookup-route-airports { display: flex; align-items: center; gap: 15px; font-size: 24px; font-weight: 800; }
        .lookup-route-airports .fa-plane { color: #0064de; font-size: 20px; }
        .lookup-route-airports .airport-details { line-height: 1.2; }
        .lookup-route-airports .airport-name { font-size: 14px; font-weight: 400; color: #666; }
        .lookup-flight-time { font-size: 14px; color: #333; }
        .lookup-actions .btn-more { background: #60a5fa; color: white; padding: 12px 30px; border-radius: 20px; text-decoration: none; transition: background-color 0.3s; font-weight: 700;}
        .lookup-actions .btn-more:hover { background-color: #3b82f6; }
        .booking-error { text-align: center; margin: 0 auto 20px auto; padding: 20px; background-color: #fff5f5; border: 1px solid #fed7d7; border-radius: 12px; }
        .booking-error p { font-size: 16px; color: #d93025; font-weight: 500; margin:0; }
        .no-booking-container { text-align: center; margin: 20px auto; padding: 30px; background-color: #f8fbff; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); }
        .no-booking-message { font-size: 16px; color: #333; font-weight: 500; margin-bottom: 15px; }
        .btn-lookup-another { display: inline-flex; align-items: center; justify-content: center; background: #0064de; color: white; padding: 10px 20px; border-radius: 20px; text-decoration: none; transition: background-color 0.3s; }
        .btn-lookup-another i { margin-right: 5px; }
        .btn-lookup-another:hover { background-color: #0051a3; }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>

<body class="airline-main-body">

<script>
    window.contextPath = "<%=request.getContextPath()%>";
    console.log("Initial contextPath:", window.contextPath);
	
	const contextPath = "<%= request.getContextPath() %>";
</script>


<%-- <jsp:include page="common/header.jsp" /> --%>

    <section class="booking-widget">
        <div class="airline-container">
            <div class="booking-card">
                <div class="booking-tabs">
                    <button class="booking-tab-btn active" data-tab="flight">Ìï≠Í≥µÍ∂å ÏòàÎß§</button>
                    <button class="booking-tab-btn" data-tab="checkin">ÏòàÏïΩ Ï°∞Ìöå</button>
                    <button class="booking-tab-btn" data-tab="schedule">Ï≤¥ÌÅ¨Ïù∏</button>
                    <button class="booking-tab-btn" data-tab="status">Ï∂úÎèÑÏ∞©/Ïä§ÏºÄÏ§Ñ</button>
                </div>
                
                <div class="booking-content active" id="flight">
                    <form id="searchForm" action="" method="get">
                        <!-- Hidden inputs for form submission -->
                        <input type="hidden" name="departure" id="departureInput">
                        <input type="hidden" name="arrival" id="arrivalInput">
                        <input type="hidden" name="departureDate" id="departureDateInput">
                        <input type="hidden" name="returnDate" id="returnDateInput">
                        <input type="hidden" name="passengers" id="passengersInput">
                        <input type="hidden" name="seatClass" id="seatClassInput">
                        <input type="hidden" name="tripType" id="tripTypeInput">
                        
                        <div class="trip-type-section">
                            <div class="trip-type-buttons">
                                <button type="button" class="trip-type-btn active" data-type="round">ÏôïÎ≥µ</button>
                                <button type="button" class="trip-type-btn" data-type="oneway">Ìé∏ÎèÑ</button>
                                <button type="button" class="trip-type-btn" data-type="multi">Îã§Íµ¨Í∞Ñ</button>
                            </div>
                            <div class="special-options">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="award-ticket">
                                    <span class="checkmark"></span>
                                    Í∞ÄÍπåÏö¥ ÎÇ†Ïßú Ìï®Íªò Ï°∞Ìöå
                                </label>
                            </div>
                        </div>
                        
                        <div class="route-section">
                            <div class="route-inputs">
                                <div class="airport-input departure">
                                    <div class="airport-code">Ï∂úÎ∞úÏßÄ</div>
                                    <div class="airport-name">Í≤ÄÏÉâ</div>
                                    <div id="departure-dropdown">
                                        <div class="dropdown-header">
                                            <div class="dropdown-title">Ï∂úÎ∞úÏßÄ Í≤ÄÏÉâ</div>
                                            <button type="button" id="departure-close" class="dropdown-close">√ó</button>
                                        </div>
                                        <input type="text" placeholder="" id="departure-search" class="dropdown-search-input" />
                                        <div id="departure-all-regions" class="dropdown-all-regions">
                                            <span>üìç</span> Î™®Îì† ÏßÄÏó≠ Î≥¥Í∏∞
                                        </div>
                                        <div id="departure-results" class="dropdown-results"></div>
                                    </div>
                                </div>
                                <button type="button" class="swap-route-btn">
                                    <i class="fas fa-exchange-alt"></i>
                                </button>
                                <div class="airport-input arrival">
                                    <div class="airport-code">ÎèÑÏ∞©ÏßÄ</div>
                                    <div class="airport-name">Í≤ÄÏÉâ</div>
                                    <div id="arrival-dropdown">
                                        <div class="dropdown-header">
                                            <div class="dropdown-title">ÎèÑÏ∞©ÏßÄ Í≤ÄÏÉâ</div>
                                            <button type="button" id="arrival-close" class="dropdown-close">√ó</button>
                                        </div>
                                        <input type="text" placeholder="" id="arrival-search" class="dropdown-search-input" />
                                        <div id="arrival-all-regions" class="dropdown-all-regions">
                                            <span>üìç</span> Î™®Îì† ÏßÄÏó≠ Î≥¥Í∏∞
                                        </div>
                                        <div id="arrival-results" class="dropdown-results"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="booking-details">
                            <div class="date-section">
                                <div class="date-input">
                                    <label id="date-label">Ï∂úÎ∞úÏùº ~ ÎèÑÏ∞©Ïùº</label>
                                    <div class="date-picker-container" id="date-picker-trigger">
                                        <input type="text" id="date-display" value="" placeholder="ÎÇ†Ïßú ÏÑ†ÌÉù" readonly>
                                        <i class="fas fa-calendar-alt"></i>
                                    </div>
                                    <!-- Îã¨Î†• Ïò§Î≤ÑÎ†àÏù¥ Î∞∞Í≤Ω -->
                                    <div class="calendar-overlay" id="calendar-overlay"></div>
                                    
                                    <div class="calendar-popup" id="calendar-popup">
                                        <div class="calendar-header">
                                            <button type="button" class="calendar-nav-btn" id="prev-month">
                                                <i class="fas fa-chevron-left"></i>
                                            </button>
                                            <span class="calendar-month-year" id="calendar-month-year">2025ÎÖÑ 5Ïõî</span>
                                            <button type="button" class="calendar-nav-btn" id="next-month">
                                                <i class="fas fa-chevron-right"></i>
                                            </button>
                                        </div>
                                        <div class="calendar-body">
                                            <div class="calendar-weekdays">
                                                <div>Ïùº</div>
                                                <div>Ïõî</div>
                                                <div>Ìôî</div>
                                                <div>Ïàò</div>
                                                <div>Î™©</div>
                                                <div>Í∏à</div>
                                                <div>ÌÜ†</div>
                                            </div>
                                            <div class="calendar-days" id="calendar-days">
                                                <!-- Îã¨Î†• ÎÇ†ÏßúÎì§Ïù¥ ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±Îê©ÎãàÎã§ -->
                                            </div>
                                        </div>
                                        <div class="calendar-footer">
                                            <button type="button" class="calendar-btn calendar-clear">Ï¥àÍ∏∞Ìôî</button>
                                            <button type="button" class="calendar-btn calendar-apply">Ï†ÅÏö©</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="passenger-section">
                                <div class="passenger-input">
                                    <label>ÌÉëÏäπÍ∞ù</label>
                                    <div class="passenger-selector">
                                        <span class="passenger-display">ÌÉëÏäπÍ∞ù ÏÑ†ÌÉù</span>
                                        <i class="fas fa-chevron-down"></i>
                                        <div class="passengers-dropdown">
                                            <div class="passenger-type">
                                                <div class="passenger-label">
                                                    <span>ÏÑ±Ïù∏</span> <small>Îßå 12ÏÑ∏ Ïù¥ÏÉÅ</small>
                                                </div>
                                                <div class="passenger-count">
                                                    <button type="button" class="count-btn decrease">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <span class="count adult-count">0</span>
                                                    <button type="button" class="count-btn increase">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="passenger-type">
                                                <div class="passenger-label">
                                                    <span>ÏÜåÏïÑ</span> <small>Îßå 2-11ÏÑ∏</small>
                                                </div>
                                                <div class="passenger-count">
                                                    <button type="button" class="count-btn decrease">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <span class="count child-count">0</span>
                                                    <button type="button" class="count-btn increase">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="passenger-type">
                                                <div class="passenger-label">
                                                    <span>Ïú†ÏïÑ</span> <small>Îßå 2ÏÑ∏ ÎØ∏Îßå</small>
                                                </div>
                                                <div class="passenger-count">
                                                    <button type="button" class="count-btn decrease">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <span class="count infant-count">0</span>
                                                    <button type="button" class="count-btn increase">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="passengers-footer">
                                                <button type="button" class="apply-passengers">Ï†ÅÏö©</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            

                            
                            <div class="search-section">
                                <button type="submit" class="search-flights-btn">Ìï≠Í≥µÌé∏ Í≤ÄÏÉâ</button>
                            </div>
                        </div>
                    </form>
                </div>             
                <div class="booking-content" id="checkin">
                    <div class="lookup-result-wrapper">
                        <c:choose>
                            <%-- [Ï°∞Í±¥ 1] ÏÇ¨Ïö©ÏûêÍ∞Ä Î°úÍ∑∏Ïù∏Ìïú Í≤ΩÏö∞ --%>
                            <c:when test="${not empty sessionScope.user}">
                                <h3 style="text-align:center; margin-bottom: 20px;">'${sessionScope.user.koreanName}'ÎãòÏùò ÏòàÏïΩ ÎÇ¥Ïó≠</h3>
                                <c:choose>
                                    <%-- [Ï°∞Í±¥ 1-1] Î°úÍ∑∏Ïù∏ ÏÇ¨Ïö©ÏûêÏùò ÏòàÏïΩ ÎÇ¥Ïó≠Ïù¥ ÏûàÎäî Í≤ΩÏö∞ --%>
                                    <c:when test="${not empty sessionScope.userBookings}">
                                        <div class="lookup-result-body" style="background: #f8fbff; border-radius: 18px; box-shadow: 0 4px 18px rgba(0,100,222,0.08); padding: 32px 28px; margin-bottom: 28px; display: flex; align-items: stretch;">
                                            <a href="${pageContext.request.contextPath}/lookupForm.do" class="lookup-another lookup-another-abs" style="position: absolute; top: 32px; right: 28px;">
                                                Îã§Î•∏ ÏòàÏïΩ Ï°∞Ìöå <i class="fas fa-chevron-right" style="font-size:12px;"></i>
                                            </a>
                                            <div style="flex:1; display:flex; flex-direction:column; justify-content:space-between;">
                                                <div class="lookup-result-header" style="margin-bottom:18px;">
                                                    <div class="lookup-status-container">
                                                        <span class="lookup-status">Íµ¨Îß§ ÏôÑÎ£å</span>
                                                        <span class="lookup-booking-id">ÏòàÏïΩÎ≤àÌò∏ : ${sessionScope.userBookings[0].bookingId}</span>
                                                    </div>
                                                </div>
                                                <div class="lookup-route-info" style="display:flex; align-items:center; gap: 40px;">
                                                    <div class="lookup-route-airports">
                                                        <div class="airport-details" style="text-align:center;">
                                                            <div style="font-size:32px; font-weight:800;">${sessionScope.userBookings[0].departureAirportId}</div>
                                                            <div class="airport-name">${sessionScope.userBookings[0].departureAirportName}</div>
                                                        </div>
                                                        <i class="fas fa-plane"></i>
                                                        <div class="airport-details" style="text-align:center;">
                                                            <div style="font-size:32px; font-weight:800;">${sessionScope.userBookings[0].arrivalAirportId}</div>
                                                            <div class="airport-name">${sessionScope.userBookings[0].arrivalAirportName}</div>
                                                        </div>
                                                    </div>
                                                    <div style="display:flex; flex-direction:column; justify-content:center;">
                                                        <div class="lookup-flight-time" style="font-size:16px; color:#222;">
                                                            <fmt:formatDate value="${sessionScope.userBookings[0].departureTime}" pattern="yyyyÎÖÑ MMÏõî ddÏùº(E) HH:mm"/>
                                                            ~
                                                            <fmt:formatDate value="${sessionScope.userBookings[0].arrivalTime}" pattern="HH:mm"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="lookup-actions" style="display:flex; align-items:flex-end; margin-left:40px;">
                                                <a href="${pageContext.request.contextPath}/reservationDetail?bookingId=${sessionScope.userBookings[0].bookingId}" class="btn-more">Îçî Î≥¥Í∏∞</a>
                                            </div>
                                        </div>
                                    </c:when>
                                    <%-- [Ï°∞Í±¥ 1-2] Î°úÍ∑∏Ïù∏ÌñàÏßÄÎßå ÏòàÏïΩ ÎÇ¥Ïó≠Ïù¥ ÏóÜÎäî Í≤ΩÏö∞ --%>
                                    <c:otherwise>
                                        <div class="no-booking-container">
                                            <div class="no-booking-message">
                                                ÏòàÏïΩÎêú ÎÇ¥Ïó≠Ïù¥ ÏóÜÏäµÎãàÎã§.
                                            </div>
                                            <a href="${pageContext.request.contextPath}/lookupForm.do" class="btn btn-lookup-another">
                                                <i class="fa-solid fa-ticket"></i>
                                                <span>Îã§Î•∏ ÏòàÏïΩ Ï°∞ÌöåÌïòÍ∏∞</span>
                                            </a>
                                        </div>
                                    </c:otherwise>
                                </c:choose>
                            </c:when>
                            
                            <%-- [Ï°∞Í±¥ 2] ÏÇ¨Ïö©ÏûêÍ∞Ä Î°úÍ∑∏Ïù∏ÌïòÏßÄ ÏïäÏùÄ Í≤ΩÏö∞ --%>
                            <c:otherwise>
                                <div class="form-description">
                                    <p></p>
                                </div>
                                <div id="bookingErrorBox" class="booking-error hidden">
                                    <p id="bookingErrorMessage"></p>
                                </div>
                        
                                <form class="checkin-form">
                                    <div class="checkin-inputs">
                                        <div class="input-group">
                                            <label for="lookupBookingId">ÏòàÏïΩÎ≤àÌò∏ ÎòêÎäî Ìï≠Í≥µÍ∂åÎ≤àÌò∏</label>
                                            <input type="text" id="lookupBookingId" name="bookingId" placeholder="ÏòàÏïΩÎ≤àÌò∏ 6ÏûêÎ¶¨ ÏûÖÎ†•" required>
                                        </div>
                                        <div class="input-group">
                                            <label for="lookupDepartureDate">Ï∂úÎ∞úÏùº</label>
                                            <input type="date" id="lookupDepartureDate" name="departureDate" required>
                                        </div>
                                        <div class="input-group">
                                            <label for="lookupLastName">ÏÑ± (ÏòÅÎ¨∏)</label>
                                            <input type="text" id="lookupLastName" name="lastName" placeholder="HONG" required>
                                        </div>
                                        <div class="input-group">
                                            <label for="lookupFirstName">Ïù¥Î¶Ñ (ÏòÅÎ¨∏)</label>
                                            <input type="text" id="lookupFirstName" name="firstName" placeholder="GILDONG" required>
                                        </div>
                                        <div class="search-section">
                                            <button type="submit" class="search-flights-btn">Ï°∞Ìöå</button>
                                        </div>
                                    </div>
                        
                                    <div class="form-notice" style="margin-top: 20px;">
                                        <label class="checkbox-label">
                                            <input type="checkbox" name="agreeInfo" required>
                                            <span class="checkmark"></span>
                                            [ÌïÑÏàò] Î≥∏Ïù∏Ïùò ÏòàÏïΩ Ï†ïÎ≥¥Ïù¥Í±∞ÎÇò ÏäπÍ∞ùÏúºÎ°úÎ∂ÄÌÑ∞ Ï°∞ÌöåÎ•º ÏúÑÏûÑ Î∞õÏùÄ ÏòàÏïΩ Ï†ïÎ≥¥ÏûÖÎãàÎã§.
                                        </label>
                                    </div>
                                </form>
                            </c:otherwise>
                        </c:choose>
                    </div>
                </div>
					<%-- 'Ï≤¥ÌÅ¨Ïù∏' ÌÉ≠ (ÏµúÏ¢Ö ÏàòÏ†ï) --%>
					<div class="booking-content" id="schedule">
					    <div class="lookup-result-wrapper">
					        <c:choose>
					            <%-- [Ï°∞Í±¥ 1] Î°úÍ∑∏Ïù∏Ìïú ÏÇ¨Ïö©ÏûêÏùò Í≤ΩÏö∞ --%>
					            <c:when test="${not empty sessionScope.user}">
					                 <h3 style="text-align:center; margin-bottom: 20px;">'${sessionScope.user.koreanName}'ÎãòÏùò ÏòàÏïΩÏúºÎ°ú Ï≤¥ÌÅ¨Ïù∏</h3>
					                <c:choose>
					                    <%-- [Ï°∞Í±¥ 1-1] Ï≤¥ÌÅ¨Ïù∏ Í∞ÄÎä• ÏòàÏïΩÏù¥ ÏûàÏùÑ Îïå --%>
					                    <c:when test="${not empty sessionScope.userBookings}">
					                        <div class="lookup-result-body" style="background: #f8fbff; border-radius: 18px; box-shadow: 0 4px 18px rgba(0,100,222,0.08); padding: 32px 28px; margin-bottom: 28px; display: flex; align-items: stretch;">
					                            <a href="${pageContext.request.contextPath}/checkupForm.do" class="lookup-another lookup-another-abs" style="position: absolute; top: 32px; right: 28px;">
					                                Îã§Î•∏ Ï≤¥ÌÅ¨Ïù∏ Ï°∞Ìöå <i class="fas fa-chevron-right" style="font-size:12px;"></i>
					                            </a>
					                            <div style="flex:1; display:flex; flex-direction:column; justify-content:space-between;">
					                                <div class="lookup-result-header" style="margin-bottom:18px;">
					                                    <div class="lookup-status-container">
					                                        <span class="lookup-status">Íµ¨Îß§ ÏôÑÎ£å</span>
					                                        <span class="lookup-booking-id">ÏòàÏïΩÎ≤àÌò∏ : ${sessionScope.userBookings[0].bookingId}</span>
					                                    </div>
					                                </div>
					                                <div class="lookup-route-info" style="display:flex; align-items:center; gap: 40px;">
					                                    <div class="lookup-route-airports">
					                                        <div class="airport-details" style="text-align:center;">
					                                            <div style="font-size:32px; font-weight:800;">${sessionScope.userBookings[0].departureAirportId}</div>
					                                            <div class="airport-name">${sessionScope.userBookings[0].departureAirportName}</div>
					                                        </div>
					                                        <i class="fas fa-plane"></i>
					                                        <div class="airport-details" style="text-align:center;">
					                                            <div style="font-size:32px; font-weight:800;">${sessionScope.userBookings[0].arrivalAirportId}</div>
					                                            <div class="airport-name">${sessionScope.userBookings[0].arrivalAirportName}</div>
					                                        </div>
					                                    </div>
					                                    <div style="display:flex; flex-direction:column; justify-content:center;">
					                                        <div class="lookup-flight-time" style="font-size:16px; color:#222;">
					                                            <fmt:formatDate value="${sessionScope.userBookings[0].departureTime}" pattern="yyyyÎÖÑ MMÏõî ddÏùº(E) HH:mm"/>
					                                            ~
					                                            <fmt:formatDate value="${sessionScope.userBookings[0].arrivalTime}" pattern="HH:mm"/>
					                                        </div>
					                                    </div>
					                                </div>
					                            </div>
					                            <div class="lookup-actions" style="display:flex; align-items:flex-end; margin-left:40px;">
					                                <a href="${pageContext.request.contextPath}/checkinDetail.do?bookingId=${sessionScope.userBookings[0].bookingId}" class="btn-more">Ï≤¥ÌÅ¨Ïù∏</a>
					                            </div>
					                        </div>
					                    </c:when>
					                    <c:otherwise>
					                        <%-- Ï≤¥ÌÅ¨Ïù∏ Í∞ÄÎä• ÏòàÏïΩÏù¥ ÏóÜÏùÑ Îïå --%>
					                        <div class="no-booking-container">
					                            <div class="no-booking-message">Ï≤¥ÌÅ¨Ïù∏ Í∞ÄÎä•Ìïú ÏòàÏïΩ ÎÇ¥Ïó≠Ïù¥ ÏóÜÏäµÎãàÎã§.</div>
					                             <a href="${pageContext.request.contextPath}/checkupForm.do" class="btn btn-lookup-another">
					                                <i class="fa-solid fa-ticket"></i>
					                                <span>Îã§Î•∏ ÏòàÏïΩÏúºÎ°ú Ï≤¥ÌÅ¨Ïù∏ÌïòÍ∏∞</span>
					                            </a>
					                        </div>
					                    </c:otherwise>
					                </c:choose>
					            </c:when>
								 <%-- 'Ï≤¥ÌÅ¨Ïù∏' ÌÉ≠Ïùò ÎπÑÌöåÏõê Ìèº (ÏµúÏ¢Ö ÏàòÏ†ï) --%>
								<c:otherwise>
								    <div class="form-description">
								        <p></p>
								    </div>
								
								    <div id="checkinErrorBox" class="booking-error hidden">
								        <p id="checkinErrorMessage"></p>
								    </div>
								
								    <form id="checkinLookupForm" action="${pageContext.request.contextPath}/checkinDetail.do" method="post">
								        <div class="schedule-inputs">
								            <div class="input-group">
								                <label for="checkinBookingId">ÏòàÏïΩ/Ìï≠Í≥µÍ∂å Î≤àÌò∏</label>
								                <input type="text" id="checkinBookingId" name="bookingId" placeholder="ÏòàÏïΩÎ≤àÌò∏ 6ÏûêÎ¶¨" required>
								            </div>
								            <div class="input-group">
								                <label for="checkinDepartureDate">Ï∂úÎ∞úÏùº</label>
								                <input type="date" id="checkinDepartureDate" name="departureDate" required>
								            </div>
								            <div class="input-group">
								                <label for="checkinLastName">ÏÑ±(ÏòÅÎ¨∏)</label>
								                <input type="text" id="checkinLastName" name="lastName" placeholder="HONG" required>
								            </div>
								            <div class="input-group">
								                <label for="checkinFirstName">Ïù¥Î¶Ñ(ÏòÅÎ¨∏)</label>
								                <input type="text" id="checkinFirstName" name="firstName" placeholder="GILDONG" required>
								            </div>
								            <div class="search-section">
								                <button type="submit" class="search-flights-btn">Ï≤¥ÌÅ¨Ïù∏ ÏãúÏûë</button>
								            </div>
								        </div>
								        
								        <%-- [ÌïµÏã¨ ÏàòÏ†ï] Ï≤¥ÌÅ¨Î∞ïÏä§ ÏòÅÏó≠ÏùÑ ÏûÖÎ†• ÌïÑÎìú Í∑∏Î£π(schedule-inputs) Î∞ñÏúºÎ°ú Ïù¥Îèô --%>
								        <div class="form-notice" style="margin-top: 20px;">
								            <label class="checkbox-label">
								                <input type="checkbox" name="agreeInfo" required>
								                <span class="checkmark"></span>
								                [ÌïÑÏàò] Î≥∏Ïù∏Ïùò ÏòàÏïΩ Ï†ïÎ≥¥Ïù¥Í±∞ÎÇò ÏäπÍ∞ùÏúºÎ°úÎ∂ÄÌÑ∞ Ï°∞ÌöåÎ•º ÏúÑÏûÑ Î∞õÏùÄ ÏòàÏïΩ Ï†ïÎ≥¥ÏûÖÎãàÎã§.
								            </label>
								        </div>
								    </form>
								</c:otherwise>
					        </c:choose>
					    </div>
					</div>
                <div class="booking-content" id="status">
                    <%-- Ï∂úÎèÑÏ∞©/Ïä§ÏºÄÏ§Ñ ÌÉ≠ (Í∏∞Ï°¥Í≥º ÎèôÏùº) --%>
                    <div class="status-form">
                        <div class="status-options">
                            <button class="status-btn active">Ï∂úÎèÑÏ∞© Ï°∞Ìöå</button>
                            <button class="status-btn">ÏàòÍ∞Ñ Ïä§ÏºÄÏ§Ñ</button>
                            <button class="status-btn">Ï∂ú/ÎèÑÏ∞©ÏßÄ</button>
                            <button class="status-btn">Ìé∏Î™Ö</button>
                        </div>
                        <div class="status-inputs">
                            <div class="route-inputs">
                                <div class="airport-input">
                                    <div class="airport-code">From</div>
                                    <div class="airport-name">Ï∂úÎ∞úÏßÄ</div>
                                </div>
                                <button class="swap-route-btn">
                                    <i class="fas fa-exchange-alt"></i>
                                </button>
                                <div class="airport-input">
                                    <div class="airport-code">To</div>
                                    <div class="airport-name">ÎèÑÏ∞©ÏßÄ</div>
                                </div>
                            </div>
                            <div class="date-input">
                                <label>Ï∂úÎ∞úÏùº</label>
                                <input type="date" value="2025-05-28">
                            </div>
                            <div class="search-section">
                                <button class="search-flights-btn">Ï°∞Ìöå</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="banner">
        <div class="airline-container">
            <div class="banner-slider">
                <div class="slide active" style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1436491865332-7a61a109cc05?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');">
                    <div class="slide-content">
                        <h2>Ïú†ÎüΩ ÎÖ∏ÏÑ† ÌäπÍ∞Ä Ïù¥Î≤§Ìä∏</h2>
                        <p>ÍøàÍæ∏Îçò Ïú†ÎüΩ Ïó¨Ìñâ, ÏßÄÍ∏à ÌäπÎ≥ÑÌïú Í∞ÄÍ≤©ÏúºÎ°ú ÎßåÎÇòÎ≥¥ÏÑ∏Ïöî</p>
                        <a href="#" class="btn airline-btn">ÏûêÏÑ∏Ìûà Î≥¥Í∏∞</a>
                    </div>
                </div>
                <div class="slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1540339832862-474599807836?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');">
                    <div class="slide-content">
                        <h2>ÌîÑÎ¶¨ÎØ∏ÏóÑ Ïã†Í∑ú Í∏∞ÎÇ¥ ÏÑúÎπÑÏä§</h2>
                        <p>ÎçîÏö± Ìé∏ÏïàÌïòÍ≥† ÌäπÎ≥ÑÌïú Ïó¨ÌñâÏùÑ ÏúÑÌïú ÏÉàÎ°úÏö¥ Í∏∞ÎÇ¥ ÏÑúÎπÑÏä§Î•º ÏÜåÍ∞úÌï©ÎãàÎã§</p>
                        <a href="#" class="btn airline-btn">ÏûêÏÑ∏Ìûà Î≥¥Í∏∞</a>
                    </div>
                </div>
                <div class="slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://images.unsplash.com/photo-1464038008305-ee8def75f234?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');">
                    <div class="slide-content">
                        <h2>ÎßàÏùºÎ¶¨ÏßÄ ÎçîÎ∏î Ï†ÅÎ¶Ω ÌòúÌÉù</h2>
                        <p>Ïù¥Î≤à Îã¨ ÌäπÎ≥Ñ ÌîÑÎ°úÎ™®ÏÖò, Î™®Îì† ÎÖ∏ÏÑ† ÎßàÏùºÎ¶¨ÏßÄ Îëê Î∞∞ Ï†ÅÎ¶Ω</p>
                        <a href="#" class="btn airline-btn">ÏûêÏÑ∏Ìûà Î≥¥Í∏∞</a>
                    </div>
                </div>
            </div>
            <div class="banner-nav">
                <button class="prev airline-btn-nav"><i class="fas fa-chevron-left"></i></button>
                <div class="dots">
                    <span class="dot active"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
                <button class="next airline-btn-nav"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>
    </section>
    <section class="features">
        <div class="airline-container">
            <div class="feature-box">
                <div class="feature-icon"><i class="fas fa-map-marked-alt"></i></div>
                <h3>Ï∑®Ìï≠ÏßÄ ÏïàÎÇ¥</h3>
                <p>Ï†Ñ ÏÑ∏Í≥Ñ 40Í∞úÍµ≠ 120Í∞ú ÎèÑÏãúÎ°ú Ìé∏Î¶¨ÌïòÍ≤å Ïó¨ÌñâÌïòÏÑ∏Ïöî</p>
                <a href="#" class="feature-link airline-link">Îçî ÏïåÏïÑÎ≥¥Í∏∞</a>
            </div>
            <div class="feature-box">
                <div class="feature-icon"><i class="fas fa-plane"></i></div>
                <h3>Ìï≠Í≥µÍ∏∞ ÏÜåÍ∞ú</h3>
                <p>ÏµúÏã† Ìï≠Í≥µÍ∏∞ Î≥¥Ïú†Î°ú ÏïàÏ†ÑÌïòÍ≥† ÏæåÏ†ÅÌïú Ïó¨ÌñâÏùÑ ÏïΩÏÜçÌï©ÎãàÎã§</p>
                <a href="#" class="feature-link airline-link">Îçî ÏïåÏïÑÎ≥¥Í∏∞</a>
            </div>
            <div class="feature-box">
                <div class="feature-icon"><i class="fas fa-gift"></i></div>
                <h3>ÎßàÏùºÎ¶¨ÏßÄ ÌòúÌÉù</h3>
                <p>Îã§ÏñëÌïú Ï†ÅÎ¶ΩÍ≥º ÏÇ¨Ïö©ÏúºÎ°ú Îçî ÎßéÏùÄ ÌòúÌÉùÏùÑ ÎàÑÎ¶¨ÏÑ∏Ïöî</p>
                <a href="#" class="feature-link airline-link">Îçî ÏïåÏïÑÎ≥¥Í∏∞</a>
            </div>
            <div class="feature-box">
                <div class="feature-icon"><i class="fas fa-headset"></i></div>
                <h3>Í≥†Í∞ù ÏßÄÏõê</h3>
                <p>Ïó∞Ï§ëÎ¨¥Ìú¥ Í≥†Í∞ùÏÑºÌÑ∞ Ïö¥ÏòÅÏúºÎ°ú Î¨∏ÏùòÏÇ¨Ìï≠ÏùÑ Îπ†Î•¥Í≤å Ìï¥Í≤∞Ìï¥ ÎìúÎ¶ΩÎãàÎã§</p>
                <a href="#" class="feature-link airline-link">Îçî ÏïåÏïÑÎ≥¥Í∏∞</a>
            </div>
        </div>
    </section>

    <section class="destinations">
        <div class="airline-container">
            <h2 class="section-title">Ïù∏Í∏∞ Ïó¨ÌñâÏßÄ</h2>
            <div class="destination-grid">
                <div class="destination-card">
                    <div class="destination-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1499856871958-5b9627545d1a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="destination-info">
                        <h3>ÌååÎ¶¨</h3>
                        <p class="price">Ìé∏ÎèÑ <span>650,000Ïõê~</span></p>
                        <a href="#" class="btn-outline airline-btn">ÏòàÎß§ÌïòÍ∏∞</a>
                    </div>
                </div>
                <div class="destination-card">
                    <div class="destination-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="destination-info">
                        <h3>Îâ¥Ïöï</h3>
                        <p class="price">Ìé∏ÎèÑ <span>780,000Ïõê~</span></p>
                        <a href="#" class="btn-outline airline-btn">ÏòàÎß§ÌïòÍ∏∞</a>
                    </div>
                </div>
                <div class="destination-card">
                    <div class="destination-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1513407030348-c983a97b98d8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="destination-info">
                        <h3>ÎèÑÏøÑ</h3>
                        <p class="price">Ìé∏ÎèÑ <span>250,000Ïõê~</span></p>
                        <a href="#" class="btn-outline airline-btn">ÏòàÎß§ÌïòÍ∏∞</a>
                    </div>
                </div>
                <div class="destination-card">
                    <div class="destination-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="destination-info">
                        <h3>ÏãúÎìúÎãà</h3>
                        <p class="price">Ìé∏ÎèÑ <span>720,000Ïõê~</span></p>
                        <a href="#" class="btn-outline airline-btn">ÏòàÎß§ÌïòÍ∏∞</a>
                    </div>
                </div>
                <div class="destination-card">
                    <div class="destination-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1528181304800-259b08848526?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="destination-info">
                        <h3>Î∞©ÏΩï</h3>
                        <p class="price">Ìé∏ÎèÑ <span>280,000Ïõê~</span></p>
                        <a href="#" class="btn-outline airline-btn">ÏòàÎß§ÌïòÍ∏∞</a>
                    </div>
                </div>
                <div class="destination-card">
                    <div class="destination-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1552832230-c0197dd311b5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="destination-info">
                        <h3>Î°úÎßà</h3>
                        <p class="price">Ìé∏ÎèÑ <span>680,000Ïõê~</span></p>
                        <a href="#" class="btn-outline airline-btn">ÏòàÎß§ÌïòÍ∏∞</a>
                    </div>
                </div>
            </div>
            <div class="view-more">
                <a href="#" class="btn airline-btn">Îçî ÎßéÏùÄ Ïó¨ÌñâÏßÄ Î≥¥Í∏∞</a>
            </div>
        </div>
    </section>

    <section class="news">
        <div class="airline-container">
            <h2 class="section-title">Ìï≠Í≥µÏÇ¨ ÏÜåÏãù</h2>
            <div class="news-grid">
                <div class="news-card">
                    <div class="news-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1436491865332-7a61a109cc05?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="news-content">
                        <span class="news-date">2023.07.15</span>
                        <h3>Ïã†Í∑ú ÎÖ∏ÏÑ† Ïò§Ìîà ÏïàÎÇ¥</h3>
                        <p>2023ÎÖÑ 9ÏõîÎ∂ÄÌÑ∞ ÏÉàÎ°≠Í≤å ÏÑ†Î≥¥Ïù¥Îäî ÎåÄÏñëÏ£º ÎÖ∏ÏÑ†Ïóê ÎåÄÌïú ÏïàÎÇ¥ÏûÖÎãàÎã§.</p>
                        <a href="#" class="read-more airline-link">ÏûêÏÑ∏Ìûà Î≥¥Í∏∞</a>
                    </div>
                </div>
                <div class="news-card">
                    <div class="news-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="news-content">
                        <span class="news-date">2023.07.08</span>
                        <h3>ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞ÎÇ¥Ïãù Î¶¨Îâ¥Ïñº</h3>
                        <p>ÏµúÍ≥†Ïùò ÏÖ∞ÌîÑÏôÄ ÌòëÏóÖÌïú ÏÉàÎ°úÏö¥ Í∏∞ÎÇ¥Ïãù Î©îÎâ¥Î•º ÏÜåÍ∞úÌï©ÎãàÎã§.</p>
                        <a href="#" class="read-more airline-link">ÏûêÏÑ∏Ìûà Î≥¥Í∏∞</a>
                    </div>
                </div>
                <div class="news-card">
                    <div class="news-img airline-img" style="background-image: url('https://images.unsplash.com/photo-1530521954074-e64f6810b32d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');"></div>
                    <div class="news-content">
                        <span class="news-date">2023.07.01</span>
                        <h3>Ïó¨Î¶Ñ ÏãúÏ¶å ÌäπÎ≥Ñ ÌîÑÎ°úÎ™®ÏÖò</h3>
                        <p>Ïó¨Î¶Ñ Ìú¥Í∞ÄÏ≤† ÎßûÏù¥ ÌäπÎ≥Ñ Ìï†Ïù∏ ÌîÑÎ°úÎ™®ÏÖòÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.</p>
                        <a href="#" class="read-more airline-link">ÏûêÏÑ∏Ìûà Î≥¥Í∏∞</a>
                    </div>
                </div>
            </div>
            <div class="view-more">
                <a href="#" class="btn airline-btn">Î™®Îì† ÏÜåÏãù Î≥¥Í∏∞</a>
            </div>
        </div>
    </section>

	<%--<jsp:include page="common/footer.jsp" />--%>

    <script>
        // JSPÏóêÏÑú JavaScriptÎ°ú contextPath Ï†ÑÎã¨
        window.contextPath = '<%=request.getContextPath()%>';
        console.log("Final contextPath:", window.contextPath);
    </script>
    <script src="<%=request.getContextPath()%>/resources/js/index.js?v=<%=System.currentTimeMillis()%>"></script>
         
</body>
</html>